<div class="card">
    <img [src]="item.thumbnail" alt="{{ item.title }}" />
    <h3>{{ item.title }}</h3>
    <p>{{ item.description.slice(0,50) }}...</p>
    
    <button 
      (click)="toggleFavorite($event)" 
      class="favorite-button"
      [class.favorite-active]="isFavorite$ | async"
      [attr.aria-label]="(isFavorite$ | async) ? 'Remove from favorites' : 'Add to favorites'"
    >
      <span *ngIf="isFavorite$ | async">‚ù§Ô∏è</span>
      <span *ngIf="!(isFavorite$ | async)">ü§ç</span>
    </button>

    <a [routerLink]="['/items', item.id]">Details</a>
</div>

<style>
  .card {
    position: relative;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .favorite-button {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(255, 255, 255, 0.9);
    border: 2px solid #ddd;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.5em;
    padding: 8px;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .favorite-button:hover {
    background: rgba(255, 255, 255, 1);
    transform: scale(1.1);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }

  .favorite-button.favorite-active {
    border-color: #dc3545;
    background: rgba(220, 53, 69, 0.1);
  }

  .favorite-button:active {
    transform: scale(0.95);
  }
</style>
